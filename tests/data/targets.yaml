apiVersion: noops.local/v1alpha1
kind: target
metadata:
  name: demo
spec:
  active:
    clusterAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        clusterSelectorTerms:
        - matchExpressions: # service active with low latency
          - key: service/status
            operator: In
            values:
            - active
    clustersCount: 0

  standby:
    clusterAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        clusterSelectorTerms:
        - matchExpressions: # service standby with low latency
          - key: service/status
            operator: In
            values:
            - standby
    clustersCount: 0

  service-only:
    clusterAffinity: null
    clustersCount: 0

  localLoadBalancer: true # Stick the request in the cluster if possible
